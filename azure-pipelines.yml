trigger:
  daveta-python-functional

pool:
  vmImage: 'Ubuntu-16.04'

variables:
  imageName: 'functionaltestpy'
  dockerRegistryServiceConnection: 'E2E Functional Docker Registry'
  dockerFilePath: 'libraries/functional-tests/functionaltestbot/Dockerfile'
  tag: 'python'

steps:
- task: Docker@2
  displayName: Build and push bot image
  inputs:
    command: buildAndPush
    repository: $(imageName)
    dockerfile: $(dockerFilePath)
    containerRegistry: $(dockerRegistryServiceConnection)
    tags: |
      $(tag)
